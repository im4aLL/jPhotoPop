(function(f){function g(a){var n=a||window.event,m=[].slice.call(arguments,1),l=0,k=!0,j=0,i=0;return a=f.event.fix(n),a.type="mousewheel",n.wheelDelta&&(l=n.wheelDelta/120),n.detail&&(l=-n.detail/3),i=l,n.axis!==undefined&&n.axis===n.HORIZONTAL_AXIS&&(i=0,j=-1*l),n.wheelDeltaY!==undefined&&(i=n.wheelDeltaY/120),n.wheelDeltaX!==undefined&&(j=-1*n.wheelDeltaX/120),m.unshift(a,l,j,i),(f.event.dispatch||f.event.handle).apply(this,m)}var e=["DOMMouseScroll","mousewheel"];if(f.event.fixHooks){for(var h=e.length;h;){f.event.fixHooks[e[--h]]=f.event.mouseHooks}}f.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var b=e.length;b;){this.addEventListener(e[--b],g,!1)}}else{this.onmousewheel=g}},teardown:function(){if(this.removeEventListener){for(var b=e.length;b;){this.removeEventListener(e[--b],g,!1)}}else{this.onmousewheel=null}}},f.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);(function(a){a.fn.drags=function(c){c=a.extend({handle:"",cursor:"move",draggableClass:"draggable",activeHandleClass:"active-handle"},c);var b=null;var d=(c.handle==="")?this:this.find(c.handle);return d.css("cursor",c.cursor).on("mousedown",function(j){a(".jPhotoPop-overlay-content").removeClass("jTransaction");if(c.handle===""){b=a(this);b.addClass(c.draggableClass)}else{b=a(this).parent();b.addClass(c.draggableClass).find(c.handle).addClass(c.activeHandleClass)}var i=b.outerHeight(),h=b.outerWidth(),f=b.offset().top+i-j.pageY,g=b.offset().left+h-j.pageX;a(document).on("mousemove",function(k){b.offset({top:k.pageY+f-i,left:k.pageX+g-h})}).on("mouseup",function(){a(this).off("mousemove");b.removeClass(c.draggableClass);b=null});j.preventDefault()}).on("mouseup",function(){if(c.handle===""){b.removeClass(c.draggableClass)}else{b.removeClass(c.draggableClass).find(c.handle).removeClass(c.activeHandleClass)}b=null})}})(jQuery);(function(g){var i={group:"jPhotoPopGroup",single:"jPhotoPopSingle"};var a="";var e="";var n="";var d=1;var f=0;function k(o,p,r,q,s){p=typeof p!=="undefined"?"overlay-"+p:"default";r=typeof r!=="undefined"?r:"null";q=typeof q!=="undefined"?q:"null";if(s==null){s={className:"null"}}var t='<div class="jPhotoPop-overlay '+p+'"><div class="jPhotoPop-overlay-wrapper"><span class="jPhotoPop-overlay-content"><img src="'+o+'"></span></div><span class="jppicon" id="jppclose"></span>'+((r!="null")?'<a class="jppicon" id="jppnext" href="#" rel='+r+' name="'+s.className+'"></a>':"")+((q!="null")?'<a class="jppicon" id="jppprev" href="#" rel='+q+' name="'+s.className+'"></a>':"")+"</div>";g("body .jPhotoPop-overlay").remove();g("body").prepend(t);if(f===0){g(".jPhotoPop-overlay").css("opacity",0);g(".jPhotoPop-overlay").animate({opacity:1},"fast")}g(".jPhotoPop-overlay-content *").hide();g(".jPhotoPop-overlay-content").addClass("jloading");g(".jPhotoPop-overlay-content img:first").bind("load",function(){g(".jPhotoPop-overlay-content *").show();g(".jPhotoPop-overlay-content").removeClass("jloading")});c(d);b()}function j(o){var p=0;p=g("."+o).length;return p}function h(p,t){var s=0;var o=0;var r=0;var q=0;s=j(p);o=t.index();r=g("."+p+":last").index();q=(o-(r-s))-1;return q}function m(t,v,o){var q=0;var s=0;var r=0;var w=0;var y=0;var p=0;var x=0;s=h(t,v);r=s+1;w=s-1;q=j(t)-1;if(w<0){w=q}if(r>q){r=0}g(".jPoped").removeClass("jPoped");if(o=="next"){g("."+t).eq(r).addClass("jPoped");p=r-1;x=r+1;y=1}else{if(o=="prev"){g("."+t).eq(w).addClass("jPoped");p=w-1;x=w+1;y=1}else{v.addClass("jPoped")}}if(x>q){x=0}if(p<0){p=q}if(y==0){e=g("."+t).eq(r).attr("href");n=g("."+t).eq(w).attr("href")}else{e=g("."+t).eq(x).attr("href");n=g("."+t).eq(p).attr("href")}var u={nextP:e,prevP:n};return u}function c(o){g(".jPhotoPop-overlay-content").css({"-moz-transform":"scale("+o+") rotate(0.1deg)","-webkit-transform":"scale("+o+") rotate(0.1deg)","-o-transform":"scale("+o+") rotate(0.1deg)",transform:"scale("+o+") rotate(0.1deg)","-ms-transform":"scale("+o+") rotate(0.1deg)",filter:'progid:DXImageTransform.Microsoft.Matrix(sizingMethod="auto expand",M11='+o+", M12=-0, M21=0, M22="+o+")"})}function b(){g("html").css("overflow-y","hidden")}function l(){g("html").css("overflow-y","scroll")}g(".jPhotoPop-overlay-content").live("mouseover",function(){g(this).drags()});g(".jPhotoPop-overlay-content").live("mousewheel",function(o,p){g(this).addClass("jTransaction");d=((p>0)?0.1:-0.1)+d;c(d)});g("#jppnext").live("click",function(){f=1;var p=g(this).attr("rel");var q=g(this).attr("name");var o=g(".jPoped");var r=m(q,o,"next");var s={className:q};k(p,q,r.nextP,r.prevP,s);return false});g("#jppprev").live("click",function(){f=1;var p=g(this).attr("rel");var q=g(this).attr("name");var o=g(".jPoped");var r=m(q,o,"prev");var s={className:q};k(p,q,r.nextP,r.prevP,s);return false});g("#jppclose").live("click",function(){g("body .jPhotoPop-overlay").animate({opacity:0},"fast",function(){g("body .jPhotoPop-overlay").remove()});g(".jPoped").removeClass("jPoped");f=0;l()});g(".jPhotoPop-overlay-content, #jppclose, #jppnext, #jppprev").live("click",function(o){o.stopPropagation()});g(".jPhotoPop-overlay").live("click",function(){var o=g(this);o.animate({opacity:0},"fast",function(){o.remove()});g(".jPoped").removeClass("jPoped");f=0;l()});g.fn.extend({jPhotoPop:function(o){var q={single:true,group:false};var p=g.extend(q,o);return this.each(function(){var r=g(this);if(p.group===true){r.addClass(i.group)}else{if(p.single===true){r.addClass(i.single)}}if(p.group===true){r.click(function(){var t=m(i.group,r);var s=r.attr("class").split(" ");var u={className:s[1]};a=g(this).attr("href");k(a,i.group,t.nextP,t.prevP,u);return false})}else{if(p.single===true){r.click(function(){a=g(this).attr("href");k(a,i.single);return false})}}})}})})(jQuery);